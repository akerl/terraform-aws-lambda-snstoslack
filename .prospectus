Prospectus.extra_dep('file', 'prospectus_travis')

item do
  noop

  extend ProspectusTravis::Build.new('armorfret/terraform-aws-lambda-snstoslack')

  deps do
    item do
      name 'version'

      expected do
        github_release
        repo 'akerl/sns-to-slack'
        filter /^v([\d.]+)$/
      end

      actual do
        grep
        file 'variables.tf'
        regex /^\s+default = "(v[\d.]+)"$/
      end
    end
  end
end
